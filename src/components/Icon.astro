---
import type { HTMLAttributes } from 'astro/types';
import { frontendIcons, backendIcons } from './SkillsIcons';

interface Props {
	icon: keyof typeof frontendIcons | keyof typeof backendIcons;
	color?: string;
	size?: string;
	type?: 'frontend' | 'backend'; 
}

interface IconData {
  viewBox: string;
  path: string;
}

type IconSet = Record<string, IconData>;

const { color, icon, size, type = 'frontend' } = Astro.props;

const icons: IconSet = type === 'frontend' ? frontendIcons : backendIcons;
const { viewBox, path } = icons[icon];

const attrs: HTMLAttributes<'svg'> = {};
if (size) attrs.style = { '--size': size };
if (color) attrs.fill = color;

---

<svg
	xmlns="http://www.w3.org/2000/svg"
	viewBox={viewBox}
	aria-hidden="true"
	{...attrs}
>
	<g set:html={path} />
</svg>

<style>
	svg {
		vertical-align: middle;
		width: var(--size);
		height: var(--size);
	}

</style>
